{"version":3,"sources":["./src/app/pages/advert-status/advert-status.module.ts","./src/app/pages/advert-status/advert-status.page.ts","./src/app/pages/advert-status/advert-status.page.html"],"names":[],"mappings":"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","file":"pages-advert-status-advert-status-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AdvertStatusPage } from './advert-status.page';\r\nimport { PipesModule } from '../../pipes/pipes.module';\r\nimport { ComponentsModule } from '../../components/components.module';\r\nimport { StarRatingModule } from 'angular-star-rating';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AdvertStatusPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule,\r\n    PipesModule,\r\n    StarRatingModule\r\n  ],\r\n  declarations: [AdvertStatusPage]\r\n})\r\nexport class AdvertStatusPageModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { combineLatest, concat, merge } from 'rxjs';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AdvertService } from '../../services/advert.service';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { NavController, LoadingController } from '@ionic/angular';\r\nimport { AdvertEntity, StatusEnum, UserModel, RatingEntity, IRatingEntity, RatingClient, AdvertClient, CreateRatingRequest, EntityTypeEnum, RatingBreakdown, UpdateAdvertStatusModel } from '../../clients/bonobogive.client';\r\nimport { RateComponent } from '../../components/rate/rate.component';\r\nimport { ConsoleLogger } from '@aws-amplify/core';\r\n\r\n\r\n@Component({\r\n  selector: 'app-advert-status',\r\n  templateUrl: './advert-status.page.html',\r\n  styleUrls: ['./advert-status.page.scss'],\r\n})\r\nexport class AdvertStatusPage implements OnInit {\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    public advertService: AdvertService,\r\n    public auth: AuthService,\r\n    private navController: NavController,\r\n    public loadingController: LoadingController,\r\n    private advertClient: AdvertClient,\r\n    private ratingClient: RatingClient\r\n\r\n  ) {\r\n\r\n  }\r\n\r\n  advertPrimaryKey: string;\r\n  advertPartitionKey: string;\r\n  advertSortKey: string;\r\n  status: StatusEnum;\r\n  users: UserModel[] = [];\r\n  loading: boolean = false;\r\n  selectedUser: UserModel;\r\n  advert: AdvertEntity;\r\n  ratedUserId: string = null;\r\n  previousUserRatingId: string;\r\n  rating: RatingEntity;\r\n  isExpired: boolean = false;\r\n  StatusEnum = StatusEnum;\r\n\r\n  @ViewChild(RateComponent) rateComponent: RateComponent;\r\n\r\n  ngOnInit() {\r\n    this.rating = new RatingEntity();\r\n    this.rating.ratingBreakdown = new RatingBreakdown();\r\n  }\r\n  ionViewWillEnter() {\r\n    const urlParams = combineLatest(\r\n      this.activatedRoute.params,\r\n      this.activatedRoute.queryParams,\r\n      (params, queryParams) => ({ ...params, ...queryParams })\r\n    );\r\n\r\n    urlParams.subscribe(routeParams => {\r\n      this.advertPrimaryKey = routeParams.id;\r\n      this.advertPartitionKey = this.advertPrimaryKey.split(\"|\")[0];\r\n      this.advertSortKey = this.advertPrimaryKey.split(\"|\")[1];\r\n      this.getAdvert(this.advertPartitionKey, this.advertSortKey);\r\n    });\r\n  }\r\n\r\n  reset() {\r\n    this.advertPrimaryKey = undefined;\r\n    this.status = undefined;\r\n    this.users = [];\r\n    this.loading = undefined;\r\n    this.selectedUser = undefined;\r\n    this.advert = undefined;\r\n    this.ratedUserId = undefined;\r\n    this.rating = undefined;\r\n  }\r\n\r\n  async confirm() {\r\n\r\n    const loading = await this.loadingController.create({\r\n      message: 'Please wait...'\r\n    });\r\n    await loading.present();\r\n    if (this.status.toString() !== StatusEnum.Collected.toString()){\r\n      this.ratedUserId = undefined;\r\n    }\r\n\r\n    let advertStatusRequest = new UpdateAdvertStatusModel();\r\n    advertStatusRequest.collectedUserId = this.ratedUserId;\r\n    advertStatusRequest.sortKey = this.advert.sortKey;\r\n    advertStatusRequest.partitionKey = this.advert.partitionKey;\r\n    advertStatusRequest.status = this.status;\r\n   \r\n\r\n    var updateStatusObservable =  this.advertClient.updateAdvertStatus(advertStatusRequest);\r\n    var ratingRequest: CreateRatingRequest = null;\r\n    if (this.status.toString() === StatusEnum.Collected.toString()) {\r\n      ratingRequest = this.rateComponent.createRatingRequest();\r\n      var ratingObservable = this.ratingClient.post(ratingRequest);\r\n      var ratingSub = merge(updateStatusObservable, ratingObservable)\r\n      ratingSub.subscribe(res => {\r\n        console.log(`Updated advert status to ${this.status} and rated user ${ratingRequest.ratedUserId}`, res);\r\n      }).add( async () => {\r\n        await loading.dismiss();\r\n        this.navController.navigateRoot(`advert/${this.advert.primaryKey}`);\r\n      })\r\n    }\r\n    else{\r\n      this.advertClient.updateAdvertStatus(advertStatusRequest).subscribe(res => {\r\n        console.log(`Updated advert status to ${this.status}`, res);\r\n      })\r\n        .add(async () => {\r\n          await loading.dismiss();\r\n          this.navController.navigateRoot(`advert/${this.advert.primaryKey}`);\r\n        });\r\n    }\r\n  }\r\n\r\n  async getUsersAffectedByStatusChange() {\r\n    this.advertClient.associatedUsers(this.advert.partitionKey, this.advert.sortKey).subscribe(res => {\r\n      console.log(\"Associated users\", res);\r\n      this.users = res;\r\n    });\r\n  }\r\n\r\n  editAdvert() {\r\n    this.navController.navigateForward(`post/${this.advert.primaryKey}`);\r\n  }\r\n\r\n  async getAdvert(partitionKey: string, sortKey: string) {\r\n    this.loading = true;\r\n    this.advertService.getAdvert(partitionKey, sortKey).subscribe(async res => {\r\n      this.status = res.status;\r\n      this.loading = false;\r\n      this.advert = res;\r\n      this.isExpired = this.advert.expired;\r\n      if (res.collectedUserId) {\r\n        this.ratedUserId = res.collectedUserId;\r\n      }\r\n      this.getUsersAffectedByStatusChange();\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","<ion-header>\r\n  <app-topbar title=\"Advert Status\"></app-topbar>\r\n</ion-header>\r\n\r\n\r\n<ion-content class=\"ion-padding\">\r\n\r\n  <h1>Change advert status</h1>\r\n  <div *ngIf=\"loading\"><ion-spinner></ion-spinner></div>\r\n  <div >\r\n\r\n    <ion-list  *ngIf=\"!loading && this.advert\">\r\n      <ion-radio-group [(ngModel)]=\"status\">\r\n\r\n        <ion-item>\r\n          <ion-label *ngIf=\"!isExpired\">Open</ion-label>\r\n          <ion-label *ngIf=\"isExpired\">Expired</ion-label>\r\n        <ion-radio [value]=\"StatusEnum.Open\" ></ion-radio>\r\n        </ion-item>\r\n\r\n        <ion-item>\r\n          <ion-label>Closed</ion-label>\r\n          <ion-radio [value]=\"StatusEnum.Closed\" ></ion-radio>\r\n        </ion-item>\r\n\r\n        <ion-item *ngIf=\"users?.length > 0\">\r\n          <ion-label>Collected</ion-label>\r\n          <ion-radio [value]=\"StatusEnum.Collected\" ></ion-radio>\r\n        </ion-item>\r\n\r\n      </ion-radio-group>\r\n\r\n      <ion-item *ngIf=\"isExpired\">\r\n        <ion-label class=\"ion-text-wrap\">You can remove the expiry by editing this advert</ion-label>\r\n        <ion-button (click)=\"editAdvert()\" >Edit</ion-button>\r\n      </ion-item>\r\n\r\n      <div *ngIf=\"users.length > 0 && status == StatusEnum.Collected\">\r\n        <h1>Who collected?</h1>\r\n        <ion-radio-group [(ngModel)]=\"ratedUserId\">\r\n          <ion-list-header>\r\n            You have private messaged the following people\r\n          </ion-list-header>\r\n\r\n          <ng-container *ngFor=\"let user of users\">\r\n            <ion-item>\r\n              <app-message [title]=\"user.name\" [imageUrl]=\"user?.pictureUrl\"></app-message>\r\n              <ion-label>{{user.name}}</ion-label>\r\n              <ion-radio value=\"{{user.uid}}\" slot=\"end\"></ion-radio>\r\n            </ion-item>\r\n          </ng-container>\r\n        </ion-radio-group>\r\n      </div>\r\n\r\n      <div *ngIf=\"users?.length > 0 && status == StatusEnum.Collected && ratedUserId && ratedUserId !== '00000000-0000-0000-0000-000000000000'\">\r\n      <h1>Rate user</h1>\r\n      <app-rate [ratedUserId]=\"ratedUserId\" [reviewerUserId]=\"auth.user.uid\" [advertId]=\"advertPrimaryKey\"></app-rate>\r\n      </div>\r\n    </ion-list>\r\n\r\n\r\n    <div >\r\n      <ion-button expand=\"block\" color=\"primary\" *ngIf=\"status !== StatusEnum.Collected\" (click)=\"confirm()\">Save advert status</ion-button>\r\n      <ion-button [disabled]=\"!rateComponent?.ratingComplete\"  expand=\"block\" *ngIf=\"status === StatusEnum.Collected\" (click)=\"confirm()\">Confirm</ion-button>\r\n    </div>\r\n    \r\n\r\n  </div>\r\n</ion-content>"],"sourceRoot":"webpack:///"}