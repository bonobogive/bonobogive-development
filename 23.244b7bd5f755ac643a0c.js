(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"5j9j":function(t,e,n){"use strict";n.d(e,"a",(function(){return K}));var c=n("TYT/"),i=n("c7TG"),o=n("Valr");function r(t,e){if(1&t&&c.Zb(0,"ion-img",7),2&t){var n=c.pc(2);c.vc("src",n.imageUrl)}}function a(t,e){if(1&t&&c.Zb(0,"ion-icon",8),2&t){var n=c.pc(2);c.vc("name",n.iconName)("color",n.focus?"dark":"medium")}}function s(t,e){if(1&t&&(c.dc(0,"ion-avatar",4),c.Jc(1,r,1,1,"ion-img",5),c.Jc(2,a,1,2,"ion-icon",6),c.cc()),2&t){var n=c.pc();c.wc("slot",n.avatarSlot),c.Mb(1),c.vc("ngIf",n.imageUrl),c.Mb(1),c.vc("ngIf",n.iconName)}}function l(t,e){if(1&t&&c.Zb(0,"ion-img",7),2&t){var n=c.pc(2);c.vc("src",n.imageUrl)}}function u(t,e){if(1&t&&c.Zb(0,"ion-icon",8),2&t){var n=c.pc(2);c.vc("name",n.iconName)("color",n.focus?"dark":"medium")}}function f(t,e){if(1&t&&(c.dc(0,"ion-thumbnail",4),c.Jc(1,l,1,1,"ion-img",5),c.Jc(2,u,1,2,"ion-icon",6),c.cc()),2&t){var n=c.pc();c.wc("slot",n.avatarSlot),c.Mb(1),c.vc("ngIf",n.imageUrl),c.Mb(1),c.vc("ngIf",n.iconName)}}function d(t,e){if(1&t&&(c.dc(0,"ion-badge",13),c.Kc(1),c.cc()),2&t){var n=c.pc(3);c.Mb(1),c.Lc(n.badge)}}function p(t,e){if(1&t&&(c.dc(0,"h2",11),c.Jc(1,d,2,1,"ion-badge",12),c.Kc(2),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.vc("ngIf",n.badge),c.Mb(1),c.Mc(" ",n.title," ")}}function h(t,e){if(1&t&&(c.dc(0,"h3"),c.Kc(1),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.Lc(n.subTitle)}}function g(t,e){if(1&t&&(c.dc(0,"h4"),c.Kc(1),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.Lc(n.tinyTitle)}}function v(t,e){if(1&t&&(c.dc(0,"p"),c.Kc(1),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.Lc(n.message)}}function b(t,e){if(1&t&&(c.dc(0,"small"),c.Kc(1),c.qc(2,"date"),c.qc(3,"date"),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.Nc("",c.sc(2,2,n.dateTime,"shortTime")," ",c.sc(3,5,n.dateTime,"shortDate"),"")}}function m(t,e){if(1&t&&(c.dc(0,"ion-label",9),c.Jc(1,p,3,2,"h2",10),c.Jc(2,h,2,1,"h3",3),c.Jc(3,g,2,1,"h4",3),c.Jc(4,v,2,1,"p",3),c.Jc(5,b,4,8,"small",3),c.cc()),2&t){var n=c.pc();c.Mb(1),c.vc("ngIf",n.title),c.Mb(1),c.vc("ngIf",n.subTitle),c.Mb(1),c.vc("ngIf",n.tinyTitle),c.Mb(1),c.vc("ngIf",n.message),c.Mb(1),c.vc("ngIf",n.dateTime)}}function y(t,e){if(1&t&&(c.dc(0,"ion-badge",13),c.Kc(1),c.cc()),2&t){var n=c.pc(3);c.Mb(1),c.Lc(n.badge)}}function M(t,e){if(1&t&&(c.dc(0,"h2",11),c.Jc(1,y,2,1,"ion-badge",12),c.Kc(2),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.vc("ngIf",n.badge),c.Mb(1),c.Mc(" ",n.title," ")}}function w(t,e){if(1&t&&(c.dc(0,"h3"),c.Kc(1),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.Lc(n.subTitle)}}function I(t,e){if(1&t&&(c.dc(0,"h4"),c.Kc(1),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.Lc(n.tinyTitle)}}function C(t,e){if(1&t&&(c.dc(0,"p",15),c.Kc(1),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.Lc(n.message)}}function T(t,e){if(1&t&&(c.dc(0,"small"),c.Kc(1),c.qc(2,"date"),c.qc(3,"date"),c.cc()),2&t){var n=c.pc(2);c.Mb(1),c.Nc("",c.sc(2,2,n.dateTime,"shortTime")," ",c.sc(3,5,n.dateTime,"shortDate"),"")}}function P(t,e){if(1&t&&(c.dc(0,"ion-label"),c.Jc(1,M,3,2,"h2",10),c.Jc(2,w,2,1,"h3",3),c.Jc(3,I,2,1,"h4",3),c.Jc(4,C,2,1,"p",14),c.Jc(5,T,4,8,"small",3),c.cc()),2&t){var n=c.pc();c.Mb(1),c.vc("ngIf",n.title),c.Mb(1),c.vc("ngIf",n.subTitle),c.Mb(1),c.vc("ngIf",n.tinyTitle),c.Mb(1),c.vc("ngIf",n.message),c.Mb(1),c.vc("ngIf",n.dateTime)}}var J=function(t,e){return{reply:t,focus:e}},K=function(){function t(){this.imagePositionRight=!1,this.messageReply=!1,this.messageMultiLine=!1,this.square=!1,this.smallImage=!1,this.color=null,this.focus=!0,this.avatarSlot="start",this.replyPadding="",this.dateTime=new Date}return t.prototype.ngOnInit=function(){!0===this.imagePositionRight&&(this.avatarSlot="end"),this.dateTime=this.dateTimeInput},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Sb({type:t,selectors:[["app-message"]],inputs:{title:"title",subTitle:"subTitle",tinyTitle:"tinyTitle",message:"message",imageUrl:"imageUrl",iconName:"iconName",imagePositionRight:"imagePositionRight",messageReply:"messageReply",messageMultiLine:"messageMultiLine",dateTimeInput:"dateTimeInput",badge:"badge",square:"square",smallImage:"smallImage",color:"color",focus:"focus",timestamp:"timestamp"},decls:5,vars:8,consts:[["lines","none",1,"ion-text-wrap",3,"ngClass"],["size","small",3,"slot",4,"ngIf"],["class","ion-text-wrap",4,"ngIf"],[4,"ngIf"],["size","small",3,"slot"],[3,"src",4,"ngIf"],["style","font-size:2em",3,"name","color",4,"ngIf"],[3,"src"],[2,"font-size","2em",3,"name","color"],[1,"ion-text-wrap"],["slot","start",4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],["slot","end"],["style","text-overflow: ellipsis; white-space: nowrap;",4,"ngIf"],[2,"text-overflow","ellipsis","white-space","nowrap"]],template:function(t,e){1&t&&(c.dc(0,"ion-item",0),c.Jc(1,s,3,3,"ion-avatar",1),c.Jc(2,f,3,3,"ion-thumbnail",1),c.Jc(3,m,6,5,"ion-label",2),c.Jc(4,P,6,5,"ion-label",3),c.cc()),2&t&&(c.vc("ngClass",c.zc(5,J,e.messageReply,e.focus)),c.Mb(1),c.vc("ngIf",!e.square),c.Mb(1),c.vc("ngIf",e.square),c.Mb(1),c.vc("ngIf",e.messageMultiLine),c.Mb(1),c.vc("ngIf",!e.messageMultiLine))},directives:[i.y,o.j,o.l,i.f,i.u,i.t,i.U,i.z,i.i],pipes:[o.e],styles:[".reply[_ngcontent-%COMP%]{margin-left:2em}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{padding:0;margin:0}h2[_ngcontent-%COMP%]{font-size:1em}h3[_ngcontent-%COMP%]{font-size:.9em}h4[_ngcontent-%COMP%]{font-size:.7em}small[_ngcontent-%COMP%]{font-size:.6em}p[_ngcontent-%COMP%]{font-size:1em}h2[_ngcontent-%COMP%]{font-weight:0}.focus[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .focus[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .focus[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700}"]}),t}()},Q0Id:function(t,e,n){"use strict";n.r(e),n.d(e,"ReportPageModule",(function(){return T}));var c=n("Valr"),i=n("QJY3"),o=n("DUip"),r=n("c7TG"),a=n("dzgT"),s=n("i5GC"),l=n("TYT/"),u=function(){function t(t,e){this.alertCtrl=t,this.toastCtrl=e}return t.prototype.createReport=function(t,e,n,c,i,o){return r=this,void 0,s=function(){return function(t,e){var n,c,i,o,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,c&&(i=2&o[0]?c.return:o[0]?c.throw||((i=c.return)&&i.call(c),0):c.next)&&!(i=i.call(c,o[1])).done)return i;switch(c=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,c=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){r=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(6===o[0]&&r.label<i[1]){r.label=i[1],i=o;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(o);break}i[2]&&r.ops.pop(),r.trys.pop();continue}o=e.call(t,r)}catch(a){o=[6,a],c=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,null]}))},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{i(s.next(t))}catch(n){e(n)}}function c(t){try{i(s.throw(t))}catch(n){e(n)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof a?i:new a((function(t){t(i)}))).then(n,c)}i((s=s.apply(r,[])).next())}));var r,a,s},t.\u0275fac=function(e){return new(e||t)(l.hc(r.b),l.hc(r.kb))},t.\u0275prov=l.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),f=n("lGQG"),d=function(t){return t[t.unknown=0]="unknown",t[t.inappropriate=1]="inappropriate",t[t.selling=2]="selling",t[t.other=3]="other",t}({}),p=n("5j9j"),h=function(){return(h=Object.assign||function(t){for(var e,n=1,c=arguments.length;n<c;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},g=function(t,e,n,c){return new(n||(n=Promise))((function(i,o){function r(t){try{s(c.next(t))}catch(e){o(e)}}function a(t){try{s(c.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}s((c=c.apply(t,e||[])).next())}))},v=function(t,e){var n,c,i,o,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,c&&(i=2&o[0]?c.return:o[0]?c.throw||((i=c.return)&&i.call(c),0):c.next)&&!(i=i.call(c,o[1])).done)return i;switch(c=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,c=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){r=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(6===o[0]&&r.label<i[1]){r.label=i[1],i=o;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(o);break}i[2]&&r.ops.pop(),r.trys.pop();continue}o=e.call(t,r)}catch(a){o=[6,a],c=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function b(t,e){1&t&&l.Zb(0,"ion-spinner")}function m(t,e){if(1&t&&l.Zb(0,"app-message",10),2&t){var n=l.pc(2);l.vc("imageUrl",n.advert&&n.advert.images&&n.advert.images.length>0?n.advert.images[0].url:null)("title",n.advert.title)}}function y(t,e){if(1&t){var n=l.ec();l.dc(0,"ion-item"),l.dc(1,"ion-label",4),l.Kc(2,"other"),l.cc(),l.dc(3,"ion-input",11),l.lc("ngModelChange",(function(t){return l.Dc(n),l.pc(2).other=t})),l.cc(),l.cc()}if(2&t){var c=l.pc(2);l.Mb(3),l.vc("ngModel",c.other)}}function M(t,e){if(1&t){var n=l.ec();l.dc(0,"div"),l.Jc(1,m,1,2,"app-message",2),l.dc(2,"form"),l.dc(3,"ion-list"),l.dc(4,"ion-radio-group",3),l.lc("ngModelChange",(function(t){return l.Dc(n),l.pc().reason=t})),l.dc(5,"ion-list-header"),l.dc(6,"ion-label",4),l.Kc(7,"Reason"),l.cc(),l.cc(),l.dc(8,"ion-item"),l.dc(9,"ion-label"),l.Kc(10,"inappropriate"),l.cc(),l.Zb(11,"ion-radio",5),l.cc(),l.dc(12,"ion-item"),l.dc(13,"ion-label"),l.Kc(14,"selling"),l.cc(),l.Zb(15,"ion-radio",6),l.cc(),l.dc(16,"ion-item"),l.dc(17,"ion-label"),l.Kc(18,"other"),l.cc(),l.Zb(19,"ion-radio",7),l.cc(),l.cc(),l.cc(),l.Jc(20,y,4,1,"ion-item",1),l.dc(21,"ion-item"),l.dc(22,"ion-label",4),l.Kc(23,"Further details"),l.cc(),l.dc(24,"ion-textarea",8),l.lc("ngModelChange",(function(t){return l.Dc(n),l.pc().details=t})),l.cc(),l.cc(),l.dc(25,"ion-item"),l.dc(26,"ion-button",9),l.lc("click",(function(){return l.Dc(n),l.pc().submitConfirmation()})),l.Kc(27,"Submit"),l.cc(),l.cc(),l.cc(),l.cc()}if(2&t){var c=l.pc();l.Mb(1),l.vc("ngIf",c.advert),l.Mb(3),l.vc("ngModel",c.reason),l.Mb(16),l.vc("ngIf",3==c.reason),l.Mb(4),l.vc("ngModel",c.details),l.Mb(2),l.vc("disabled",0==c.reason||3==c.reason&&!c.other)}}var w=function(){function t(t,e,n,c,i,o,r){this.activatedRoute=t,this.advertService=e,this.reportService=n,this.alertController=c,this.loadingController=i,this.navController=o,this.auth=r,this.reason=d.unknown,this.other=null,this.details=null}return t.prototype.ngOnInit=function(){var t=this;Object(a.b)(this.activatedRoute.params,this.activatedRoute.queryParams,(function(t,e){return h(h({},t),e)})).subscribe((function(e){t.advertPrimaryKey=e.id,t.getAdvert(t.advertPrimaryKey),console.log("Advert "+t.advertPrimaryKey+" loaded")}))},t.prototype.getAdvert=function(t){var e=this;this.advertService.getAdvert(this.advertPartitionKey,this.advertSortKey).subscribe((function(t){e.advert=t}))},t.prototype.submitReport=function(){return g(this,void 0,void 0,(function(){var t;return v(this,(function(e){switch(e.label){case 0:return[4,this.loadingController.create({message:"Please wait..."})];case 1:return[4,(t=e.sent()).present()];case 2:return e.sent(),[4,this.reportService.createReport(this.auth.user.uid,this.advert.partitionKey,"advert",this.reason,this.other,this.details)];case 3:return e.sent(),[4,t.dismiss()];case 4:return e.sent(),[2]}}))}))},t.prototype.submitConfirmation=function(){return g(this,void 0,void 0,(function(){var t=this;return v(this,(function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Submit?",message:"Are you sure you want to submit this report?",buttons:[{text:"Yes",handler:function(){return g(t,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,this.submitReport()];case 1:return t.sent(),this.navController.navigateForward("advert/"+this.advertPrimaryKey),[2]}}))}))}},{text:"Cancel",handler:function(){}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}}))}))},t.\u0275fac=function(e){return new(e||t)(l.Yb(o.a),l.Yb(s.a),l.Yb(u),l.Yb(r.b),l.Yb(r.ab),l.Yb(r.db),l.Yb(f.a))},t.\u0275cmp=l.Sb({type:t,selectors:[["app-report"]],decls:7,vars:2,consts:[[1,"ion-padding"],[4,"ngIf"],[3,"imageUrl","title",4,"ngIf"],["name","reason",3,"ngModel","ngModelChange"],["position","stacked"],["slot","start","name","reason","value","1"],["slot","start","name","reason","value","2"],["slot","start","name","reason","value","3"],["type","text","placeholder","Please provide further details here...","name","details","maxlength","250","rows","4",3,"ngModel","ngModelChange"],[3,"disabled","click"],[3,"imageUrl","title"],["type","text","name","other","maxlength","250","multiline","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(l.dc(0,"ion-header"),l.dc(1,"ion-toolbar"),l.dc(2,"ion-title"),l.Kc(3,"report"),l.cc(),l.cc(),l.cc(),l.dc(4,"ion-content",0),l.Jc(5,b,1,0,"ion-spinner",1),l.Jc(6,M,28,5,"div",1),l.cc()),2&t&&(l.Mb(5),l.vc("ngIf",!e.advert),l.Mb(1),l.vc("ngIf",e.advert))},directives:[r.s,r.X,r.V,r.p,c.l,r.S,i.q,i.i,i.j,r.A,r.F,r.ib,i.h,i.k,r.B,r.z,r.y,r.E,r.gb,r.T,r.jb,i.f,r.j,p.a,r.x],styles:[""]}),t}(),I=n("j1ZV"),C=[{path:"",component:w}],T=function(){function t(){}return t.\u0275mod=l.Wb({type:t}),t.\u0275inj=l.Vb({factory:function(e){return new(e||t)},imports:[[c.c,i.e,i.m,r.Y,o.k.forChild(C),I.a]]}),t}()},i5GC:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var c=n("Xd5C"),i=n("TYT/"),o=function(){function t(t){this.advertClient=t,this.showFooter=!0}return t.prototype.getAdvert=function(t,e){return this.advertClient.get(t,e)},t.\u0275fac=function(e){return new(e||t)(i.hc(c.b))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);