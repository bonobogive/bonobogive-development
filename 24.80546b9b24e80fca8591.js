(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"8V8a":function(e,t,n){"use strict";n.r(t),n.d(t,"ProfilePageModule",(function(){return Y}));var r=n("Valr"),o=n("QJY3"),i=n("DUip"),c=n("c7TG"),a=n("9vc0"),s=n("lGQG"),l=n("8683"),u=n("a/9d"),p=n("mnRn"),d=n("Xd5C"),h=n("xMyE"),f=n("15JJ"),m=n("TYT/"),g=n("Mm/0"),b=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(t){i(t)}}function a(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))},v=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},y=["fileInput"];function w(e,t){if(1&e&&m.Zb(0,"img",21),2&e){var n=m.pc(3);m.wc("src",null==n.auth||null==n.auth.user?null:n.auth.user.pictureUrl,m.Ec)}}function P(e,t){1&e&&m.Zb(0,"img",22)}function C(e,t){if(1&e&&(m.bc(0),m.Jc(1,w,1,1,"img",19),m.Jc(2,P,1,0,"img",20),m.ac()),2&e){var n=m.pc(2);m.Mb(1),m.vc("ngIf",null==n.auth||null==n.auth.user?null:n.auth.user.pictureUrl),m.Mb(1),m.vc("ngIf",!(null!=n.auth&&null!=n.auth.user&&n.auth.user.pictureUrl))}}function S(e,t){if(1&e&&(m.bc(0),m.Zb(1,"img",21),m.ac()),2&e){var n=m.pc(2);m.Mb(1),m.wc("src",n.selectedProfileImage.src,m.Ec)}}function I(e,t){if(1&e){var n=m.ec();m.dc(0,"form",3),m.lc("ngSubmit",(function(){return m.Dc(n),m.pc(2).savePassword()})),m.dc(1,"ion-card"),m.dc(2,"ion-card-header"),m.Kc(3," Change password "),m.cc(),m.dc(4,"ion-card-content"),m.dc(5,"ion-item",16),m.dc(6,"ion-note",17),m.Kc(7," Please provide your existing password "),m.cc(),m.cc(),m.dc(8,"ion-item"),m.dc(9,"ion-label",9),m.Kc(10,"existing password"),m.cc(),m.Zb(11,"ion-input",18),m.cc(),m.dc(12,"ion-item"),m.dc(13,"ion-label",9),m.Kc(14,"new password"),m.cc(),m.Zb(15,"ion-input",23),m.cc(),m.dc(16,"ion-item"),m.dc(17,"ion-label",9),m.Kc(18,"confirm password"),m.cc(),m.Zb(19,"ion-input",24),m.cc(),m.dc(20,"ion-button",14),m.Kc(21,"Save password "),m.cc(),m.cc(),m.cc(),m.cc()}if(2&e){var r=m.pc(2);m.vc("formGroup",r.passwordGroup),m.Mb(20),m.vc("disabled",r.passwordGroup.invalid)}}function M(e,t){if(1&e){var n=m.ec();m.dc(0,"div"),m.dc(1,"form",3),m.lc("ngSubmit",(function(){return m.Dc(n),m.pc().saveProfile()})),m.dc(2,"div",4),m.dc(3,"ion-button",5),m.lc("click",(function(){return m.Dc(n),m.Cc(9).click()})),m.Kc(4,"Change profile picture"),m.cc(),m.cc(),m.dc(5,"ion-thumbnail",6),m.lc("click",(function(){return m.Dc(n),m.Cc(9).click()})),m.Jc(6,C,3,2,"ng-container",2),m.Jc(7,S,2,1,"ng-container",2),m.cc(),m.dc(8,"input",7,8),m.lc("change",(function(e){return m.Dc(n),m.pc().handleImageSelect(e)})),m.cc(),m.dc(10,"ion-card"),m.dc(11,"ion-card-header"),m.Kc(12," Your profile "),m.cc(),m.dc(13,"ion-card-content"),m.dc(14,"ion-item"),m.dc(15,"ion-label"),m.Kc(16),m.cc(),m.Zb(17,"br"),m.dc(18,"small"),m.Kc(19," Username can not be changed "),m.cc(),m.cc(),m.dc(20,"ion-item"),m.dc(21,"ion-label",9),m.Kc(22,"Forename"),m.cc(),m.Zb(23,"ion-input",10),m.cc(),m.dc(24,"ion-item"),m.dc(25,"ion-label",9),m.Kc(26,"surname"),m.cc(),m.Zb(27,"ion-input",11),m.cc(),m.dc(28,"ion-button",12),m.lc("click",(function(){return m.Dc(n),m.pc().saveProfile()})),m.Kc(29,"Save your name"),m.cc(),m.cc(),m.cc(),m.cc(),m.dc(30,"form",3),m.lc("ngSubmit",(function(){return m.Dc(n),m.pc().saveEmail()})),m.dc(31,"ion-card"),m.dc(32,"ion-card-header"),m.Kc(33," Update email address "),m.cc(),m.dc(34,"ion-card-content"),m.dc(35,"ion-item"),m.dc(36,"ion-label",9),m.Kc(37,"email address"),m.cc(),m.Zb(38,"ion-input",13),m.cc(),m.dc(39,"ion-button",14),m.Kc(40,"Save email address "),m.cc(),m.cc(),m.cc(),m.cc(),m.Jc(41,I,22,2,"form",15),m.dc(42,"form",3),m.lc("ngSubmit",(function(){return m.Dc(n),m.pc().presentConfirmDeleteAccount()})),m.dc(43,"ion-card"),m.dc(44,"ion-card-header"),m.Kc(45," Delete account "),m.cc(),m.dc(46,"ion-card-content"),m.dc(47,"p"),m.Kc(48,"Deleting your account will delete everything associated with it forever"),m.cc(),m.dc(49,"ion-item",16),m.dc(50,"ion-note",17),m.Kc(51," Please provide your existing password "),m.cc(),m.cc(),m.dc(52,"ion-item"),m.dc(53,"ion-label",9),m.Kc(54,"existing password"),m.cc(),m.Zb(55,"ion-input",18),m.cc(),m.dc(56,"ion-button",14),m.Kc(57,"Delete account "),m.cc(),m.cc(),m.cc(),m.cc(),m.cc()}if(2&e){var r=m.pc();m.Mb(1),m.vc("formGroup",r.profileFormGroup),m.Mb(2),m.vc("fill","clear"),m.Mb(3),m.vc("ngIf",!r.selectedProfileImage),m.Mb(1),m.vc("ngIf",r.selectedProfileImage),m.Mb(9),m.Mc("Username: ",null==r.auth||null==r.auth.user?null:r.auth.user.username,""),m.Mb(12),m.vc("disabled",!r.profileFormGroup.valid),m.Mb(2),m.vc("formGroup",r.emailGroup),m.Mb(9),m.vc("disabled",!r.emailGroup.valid),m.Mb(2),m.vc("ngIf",r.passwordGroup),m.Mb(1),m.vc("formGroup",r.deleteGroup),m.Mb(14),m.vc("disabled",r.deleteGroup.invalid)}}function k(e,t){1&e&&(m.dc(0,"div"),m.Zb(1,"ion-spinner"),m.cc())}var T=function(){function e(e,t,n,r,o,i,c,a,s,l,u){var p=this;this.auth=e,this.navController=t,this.formBuilder=n,this.toastCtrl=r,this.errorService=o,this.camera=i,this.alertCtrl=c,this.imageService=a,this.loadingController=s,this.alertController=l,this.userClient=u,this.title="Profile",this.images=[],this.photofallback=!1,this.pageLoaded=!1,this.isApp=!1,this.isApp=!document.URL.startsWith("http")||document.URL.startsWith("http://localhost:8080"),this.populateForms().then((function(){p.pageLoaded=!0}))}return e.prototype.handleImageSelect=function(e){return b(this,void 0,void 0,(function(){var t,n,r,o=this;return v(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,this.loadingController.create({message:"Saving.profile picture.."})];case 1:return[4,(t=i.sent()).present()];case 2:return i.sent(),(n=e.target.files).length<1?[2]:(this.selectedProfileImageFile=n[0],r=this,[4,this.imageService.handleImageSelect(e)]);case 3:return r.selectedProfileImage=i.sent(),this.userClient.presignedUrlProfilePicture(this.auth.user.uid,this.selectedProfileImageFile.type).pipe(Object(h.a)((function(e){console.log("preSignedUrl",e)}))).pipe(Object(f.a)((function(e){return o.imageService.uploadFileToS3(o.selectedProfileImageFile,e).pipe(Object(h.a)((function(e){console.log("uploadProfileImage res",e)})))}))).subscribe((function(e){return b(o,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return e.url?(t=e.url.split("?")[0],console.log("new profile image url",t),[4,this.auth.saveProfilePicture(t)]):[3,2];case 1:n.sent(),this.auth.user.pictureUrl=t,n.label=2;case 2:return[2]}}))}))}),(function(e){o.selectedProfileImage=null,o.selectedProfileImageFile=null,o.presentToast("Failed to update profile picture"),console.log(e)})).add((function(){return b(o,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,t.dismiss()];case 1:return e.sent(),this.fileInputElement.nativeElement.value=null,[2]}}))}))})),[3,5];case 4:return i.sent(),this.selectedProfileImage=null,this.selectedProfileImageFile=null,[3,5];case 5:return[2]}}))}))},e.prototype.populateForms=function(){return b(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.auth.getUserAttributes()];case 1:return e.sent(),this.profileFormGroup=this.formBuilder.group({forename:[this.auth.user.givenName,o.o.compose([o.o.required])],surname:[this.auth.user.familyName,o.o.compose([o.o.required])]}),this.emailGroup=this.formBuilder.group({email:[this.auth.user.email,o.o.compose([o.o.required,o.o.email])]}),this.usernameFormGroup=this.formBuilder.group({username:[this.auth.user.username,o.o.compose([o.o.required])]}),this.passwordGroup=this.formBuilder.group({existingPassword:["",o.o.compose([o.o.required])],password:[""],passwordConfirm:[""]},{validator:this.matchingPasswords("password","passwordConfirm")}),this.deleteGroup=this.formBuilder.group({existingPassword:["",o.o.compose([o.o.required])]}),[2]}}))}))},e.prototype.presentToast=function(e){return b(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,this.toastCtrl.create({message:e,duration:3e3,position:"bottom"})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}}))}))},e.prototype.showIncorrectPassword=function(){return b(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Incorrect password",message:"Please enter your existing password correctly",buttons:[{text:"Ok",role:"ok",cssClass:"primary",handler:function(e){}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}}))}))},e.prototype.matchingPasswords=function(e,t){return function(n){if(n.controls[e].value!==n.controls[t].value)return{mismatchedPasswords:!0}}},e.prototype.ngOnInit=function(){},e.prototype.saveEmail=function(){return b(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.auth.changeEmailAddress(this.emailGroup.value.email)];case 1:return e.sent(),[4,this.presentToast("Your email address has been saved")];case 2:return e.sent(),[2]}}))}))},e.prototype.uploadImage=function(e){},e.prototype.takePicture=function(){return b(this,void 0,void 0,(function(){var e,t,n;return v(this,(function(r){switch(r.label){case 0:e={quality:50,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:1024,targetHeight:1024,saveToPhotoAlbum:!1},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.camera.getPicture(e)];case 2:return t=r.sent(),this.profilePicture="data:image/jpeg;base64,"+t,[3,4];case 3:return n=r.sent(),console.log(n),this.photofallback=!0,[3,4];case 4:return[2]}}))}))},e.prototype.saveProfile=function(){return b(this,void 0,void 0,(function(){var e,t;return v(this,(function(n){switch(n.label){case 0:return[4,this.loadingController.create({message:"Saving..."})];case 1:(e=n.sent()).present(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.auth.saveNames(this.profileFormGroup.value.forename,this.profileFormGroup.value.surname)];case 3:return n.sent(),e.dismiss(),this.presentToast("Your profile has been saved"),[3,5];case 4:return t=n.sent(),console.log(t),e.dismiss(),this.errorService.errorHandler(l.a.Alert,t.message?t.message:"Failed to update profile"),[3,5];case 5:return[2]}}))}))},e.prototype.savePassword=function(){return b(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.auth.changePassword(this.passwordGroup.value.password,this.passwordGroup.value.existingPassword)];case 1:return e.sent()?[3,2]:(console.log("Failed to change password"),this.showIncorrectPassword(),[3,4]);case 2:return[4,this.presentToast("Your password has been updated")];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},e.prototype.deleteAccount=function(){return b(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.auth.deleteAccount()];case 1:return[2,e.sent()]}}))}))},e.prototype.presentConfirmDeleteAccount=function(){return b(this,void 0,void 0,(function(){var e=this;return v(this,(function(t){switch(t.label){case 0:return[4,this.alertCtrl.create({header:"Confirm delete account",message:"Do you want to delete your account?",buttons:[{text:"Yes, delete my account",handler:function(){e.deleteAccount(),console.log("Account deleted")}},{text:"Cancel",role:"cancel",handler:function(){console.log("Cancel")}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}}))}))},e.prototype.goToSettings=function(){this.navController.navigateForward("SettingsPage")},e.\u0275fac=function(t){return new(t||e)(m.Yb(s.a),m.Yb(c.db),m.Yb(o.b),m.Yb(c.kb),m.Yb(a.a),m.Yb(u.a),m.Yb(c.b),m.Yb(p.a),m.Yb(c.ab),m.Yb(c.b),m.Yb(d.z))},e.\u0275cmp=m.Sb({type:e,selectors:[["app-profile"]],viewQuery:function(e,t){var n;1&e&&m.Oc(y,!0),2&e&&m.Bc(n=m.mc())&&(t.fileInputElement=n.first)},decls:5,vars:2,consts:[["title","Profile"],[1,"profile"],[4,"ngIf"],[1,"ion-padding",3,"formGroup","ngSubmit"],[2,"text-align","center"],[3,"fill","click"],[1,"profile-image",3,"click"],["type","file","id","asd",2,"display","none",3,"change"],["fileInput",""],["position","stacked"],["type","text","formControlName","forename"],["type","text","formControlName","surname"],["primary","","slot","end",3,"disabled","click"],["type","text","formControlName","email"],["type","submit","primary","","slot","end",3,"disabled"],["class","ion-padding",3,"formGroup","ngSubmit",4,"ngIf"],["lines","none"],["slot","start"],["type","password","formControlName","existingPassword"],[3,"src",4,"ngIf"],["src","assets/images/logos/icon-60.png",4,"ngIf"],[3,"src"],["src","assets/images/logos/icon-60.png"],["type","password","formControlName","password"],["type","password","formControlName","passwordConfirm"]],template:function(e,t){1&e&&(m.dc(0,"ion-header"),m.Zb(1,"app-topbar",0),m.cc(),m.dc(2,"ion-content",1),m.Jc(3,M,58,11,"div",2),m.Jc(4,k,2,0,"div",2),m.cc()),2&e&&(m.Mb(3),m.vc("ngIf",t.pageLoaded),m.Mb(1),m.vc("ngIf",!t.pageLoaded))},directives:[c.s,g.a,c.p,r.l,o.q,o.i,o.d,c.j,c.U,c.k,c.m,c.l,c.y,c.z,c.x,c.jb,o.h,o.c,c.D,c.S],styles:[".profile-image[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;--border-radius:50%;--size:40vw}"]}),e}(),F=n("j1ZV"),G=[{path:"",component:T}],Y=function(){function e(){}return e.\u0275mod=m.Wb({type:e}),e.\u0275inj=m.Vb({factory:function(t){return new(t||e)},imports:[[r.c,o.e,o.m,c.Y,i.k.forChild(G),F.a]]}),e}()},"Mm/0":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("lGQG"),o=n("l3hs"),i=n("c7TG"),c=n("a/9d"),a=n("M2ZX"),s=n("nUpg"),l=n("TYT/"),u=n("DUip"),p=n("Valr"),d=n("QJY3"),h=["removeFocusInput"];function f(e,t){1&e&&l.Zb(0,"ion-back-button",11)}function m(e,t){1&e&&(l.dc(0,"span",12),l.Kc(1,"\ud83d\udd34"),l.cc())}var g=function(){function e(e,t,n,r,o,i,c,a,s,l,u){this.events=e,this.searchService=t,this.auth=n,this.camera=r,this.platform=o,this.nativeStorage=i,this.menuCtrl=c,this.router=a,this.navCtrl=s,this.toastController=l,this.webSocketNotificationService=u,this.isApp=!1,this.isSearchPage=!1,this.placeholder='try "table"',this.placeholders=["Search - it's all free!"],this.isApp=!this.platform.is("desktop")}return e.prototype.ngOnInit=function(){this.isSearchPage=!!this.isSamePage("/search"),this.randomPlaceHolder()},e.prototype.randomPlaceHolder=function(){var e=this.placeholders[Math.floor(Math.random()*this.placeholders.length)];this.placeholder=e},e.prototype.uploadImage=function(e){console.log("image chosen")},e.prototype.goToPost=function(){this.navCtrl.navigateForward("post")},e.prototype.openMainMenu=function(){this.menuCtrl.open("start")},e.prototype.goToIntroduction=function(){this.navCtrl.navigateForward("introduction")},e.prototype.search=function(e){e.target.blur(),this.isSamePage("search")||this.navCtrl.navigateForward("search"),e.target.value&&(this.searchService.refreshSearchResults(),this.searchService.searchPageSearchRequest.searchQuery=e.target.value,this.searchService.search(null,null))},e.prototype.isSamePage=function(e){return this.router.url===e&&(console.log("same page"),!0)},e.prototype.openNotifications=function(){this.auth&&this.auth.user?this.navCtrl.navigateForward("notifications"):this.goToLogin()},e.prototype.goToRegister=function(){this.navCtrl.navigateForward("register")},e.prototype.goToLogin=function(){this.navCtrl.navigateForward("login")},e.prototype.redirectToSearch=function(e){this.removeFocusInput.nativeElement.focus().this.navCtrl.navigateForward("search/true")},e.prototype.takePicture=function(e){return t=this,void 0,r=function(){var e,t,n;return function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(r){switch(r.label){case 0:if(!this.auth||!this.auth.user)return this.goToLogin(),[2];if(this.goToPost(),this.platform.is("desktop"))return this.goToPost(),[2];e={quality:50,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:1280,targetHeight:1280,saveToPhotoAlbum:!1},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.camera.getPicture(e)];case 2:return t=r.sent(),this.nativeStorage.setItem("latestPicture","data:image/jpeg;base64,"+t).then((function(){return console.log("Stored item!")}),(function(e){return console.error("Error storing item",e)})),this.navCtrl.navigateForward("post"),[3,4];case 3:return n=r.sent(),console.log(n),[3,4];case 4:return[2]}}))},new((n=void 0)||(n=Promise))((function(e,o){function i(e){try{a(r.next(e))}catch(t){o(t)}}function c(e){try{a(r.throw(e))}catch(t){o(t)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,c)}a((r=r.apply(t,[])).next())}));var t,n,r},e.prototype.placeHolderFocus=function(){this.placeholder="try 'table'"},e.prototype.placeHolderBlur=function(){this.placeholder="Search - it's all free!"},e.\u0275fac=function(t){return new(t||e)(l.Yb(i.d),l.Yb(o.a),l.Yb(r.a),l.Yb(c.a),l.Yb(i.eb),l.Yb(a.a),l.Yb(i.bb),l.Yb(u.i),l.Yb(i.db),l.Yb(i.kb),l.Yb(s.b))},e.\u0275cmp=l.Sb({type:e,selectors:[["app-topbar"]],viewQuery:function(e,t){var n;1&e&&l.Oc(h,!0),2&e&&l.Bc(n=l.mc())&&(t.removeFocusInput=n.first)},inputs:{title:"title",displaySearchBar:"displaySearchBar",displayCameraIcon:"displayCameraIcon"},decls:13,vars:9,consts:[[1,"ion-no-padding"],["slot","start","fill","clear",3,"click"],["name","menu",2,"font-size","2em"],["slot","start","color","primary","defaultHref","search",4,"ngIf"],["id","main-search-bar","autofocus","","slot","start",1,"searchbar",3,"searchIcon","ngModel","showCancelButton","clearIcon","placeholder","ngModelChange","search","ionFocus","ionBlur"],["searchInput",""],["type","hidden",2,"display","none"],["removeFocusInput",""],["slot","end","fill","clear",1,"ion-no-padding",3,"click"],[1,"ion-no-padding",3,"src"],["class","new-notification-position",4,"ngIf"],["slot","start","color","primary","defaultHref","search"],[1,"new-notification-position"]],template:function(e,t){1&e&&(l.dc(0,"ion-toolbar",0),l.dc(1,"ion-button",1),l.lc("click",(function(){return t.openMainMenu()})),l.Zb(2,"ion-icon",2),l.cc(),l.Jc(3,f,1,0,"ion-back-button",3),l.dc(4,"ion-searchbar",4,5),l.lc("ngModelChange",(function(e){return t.searchService.searchPageSearchRequest.searchQuery=e}))("search",(function(e){return t.search(e)}))("ionFocus",(function(){return t.placeHolderFocus()}))("ionBlur",(function(){return t.placeHolderBlur()})),l.cc(),l.Zb(6,"input",6,7),l.dc(8,"ion-button",8),l.lc("click",(function(e){return t.takePicture(e)})),l.Zb(9,"ion-icon",9),l.cc(),l.dc(10,"ion-button",8),l.lc("click",(function(){return t.openNotifications()})),l.Zb(11,"ion-icon",9),l.Jc(12,m,2,0,"span",10),l.cc(),l.cc()),2&e&&(l.Mb(3),l.vc("ngIf",!t.isSearchPage),l.Mb(1),l.vc("searchIcon","menu")("ngModel",t.searchService.searchPageSearchRequest.searchQuery)("showCancelButton",!1)("clearIcon","true")("placeholder",t.placeholder),l.Mb(5),l.vc("src","/assets/icon/menu/post-advert.svg"),l.Mb(2),l.vc("src","/assets/icon/menu/notification.svg"),l.Mb(1),l.vc("ngIf",t.webSocketNotificationService.newNotifictions))},directives:[i.X,i.j,i.t,p.l,i.L,i.jb,d.h,d.k,i.g,i.h],styles:[".title[_ngcontent-%COMP%]{color:var(--ion-color-primary);line-height:1em;font-size:.8em}.offline[_ngcontent-%COMP%]{background-color:var(--ion-color-danger);color:var(--ion-color-danger-contrast);text-transform:uppercase;text-align:center;font-size:.8em}.new-notification-position[_ngcontent-%COMP%]{position:absolute;right:1.5em;top:.5em;font-size:.7em}ion-searchbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:none!important}ion-icon.custom[_ngcontent-%COMP%]{font-size:2em;color:var(--ion-color-primary)!important;-webkit-filter:brightness(0) saturate(100%) invert(31%) sepia(30%) saturate(3312%) hue-rotate(131deg) brightness(99%) contrast(101%);filter:brightness(0) saturate(100%) invert(31%) sepia(30%) saturate(3312%) hue-rotate(131deg) brightness(99%) contrast(101%)}.searchbar-search-icon[_ngcontent-%COMP%]{display:none!important}"]}),e}()}}]);